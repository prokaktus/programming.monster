name: Python lint

on: [push]

jobs:
  build:

    runs-on: ubuntu-latest

    steps:
      - uses: actions/checkout@v1
      - name: Display env
        run: echo $GITHUB_SHA
        shell: bash
      - name:
        uses: elgohr/Publish-Docker-Github-Action@master
        with:
          name: prokaktus/programming.monster/repository
          username: ${{ github.actor }}
          password: ${{ secrets.GITHUB_TOKEN }}
          registry: docker.pkg.github.com
          dockerfile: 'docker/base/Dockerfile'
          cache: true
          tags: 'latest,$GITHUB_SHA'
#      - name:
#          uses: docker://prokaktus/programming.monster/repository${{ github.GITHUB_SHA }}
#          workdir: '../../../'
#      - name: Test docker action
#        uses: ./.github/actions/build-container
#        with:
#          who-to-greet: 'Jonny'
